@namespace Masa.Tsc.Web.Admin.Rcl.Components
@inherits TscEChartBase

<MCard Width="Width" Height="Height" Class="d-flex flex-column rounded-lg">
    <MCardTitle Class="d-flex justify-space-between">
        <MLabel Class="emphasis2--text h6">@Title</MLabel>
        <MLabel Class="emphasis2--text h6">@_success.ToString("0.##")%</MLabel>
    </MCardTitle>
    <MCardText Class="flex-grow-1 pb-0">
        @if (_isLoading)
        {
            <div class="d-flex full-height full-width">
                <div class="ma-auto">@T("Loading data")</div>
            </div>
        }
        else if (_data?.Any(item => item?.Result?.Any() is true) is false)
        {
            <div class="full-height d-flex">
                <div class="ma-auto">@T("No Data")</div>
            </div>
        }
        else
        {
            <MECharts Option="_options.Option" Width="@("100%")" Height="@("100%")"></MECharts>
        }
    </MCardText>
    <MCardActions Class="regular3--text body2 text-left px-4">
        @T("The average success rate of the service in the current time period")@(_success)%<br />
        @T("The average failure rate of the service in the current time period")@(100 - _success)%
    </MCardActions>
</MCard>