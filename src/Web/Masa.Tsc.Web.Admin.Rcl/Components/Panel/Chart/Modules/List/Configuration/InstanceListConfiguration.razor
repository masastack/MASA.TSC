@namespace Masa.Tsc.Web.Admin.Rcl.Components

<MRow>
    @foreach (var item in Values)
    {
        <MCol Md="4">
            <MCard Class="pa-2" Style="background-color:#F6F8FD">
                <MCardText>
                    <MRow>
                        <MCol Md="12">
                            <STextField BackgroundColor="white" @bind-Value="item.Name" Label="指标名称" />
                        </MCol>
                        <MCol Md="12">
                            <STextField BackgroundColor="white" @bind-Value="item.Range" Label="取值范围" />
                        </MCol>
                    </MRow>
                </MCardText>
                <MCardActions Class="d-flex justify-space-between">
                    <SColorGroup @bind-Value="item.Color" Colors='new List<string>{"#4318FF","#05CD99","#FFB547","#37A7FF","#FF5252"}' />
                    <MIcon Color="red" OnClick="() => Remove(item)">mdi-delete</MIcon>
                </MCardActions>
            </MCard>
        </MCol>
    }
    <MCol Md="4">
        <MCard Height=208 OnClick="Add" Class="d-flex justify-center align-center" Style="background-color:#F6F8FD">
            <MIcon XLarge>mdi-plus</MIcon>
        </MCard>
    </MCol>
</MRow>

@code {
    [Parameter]
    public List<PanelMetricDto> Values { get; set; } = new();

    private void Add()
    {
        Values.Add(new());
    }

    private void Remove(PanelMetricDto metric)
    {
        Values.Remove(metric);
    }
}
