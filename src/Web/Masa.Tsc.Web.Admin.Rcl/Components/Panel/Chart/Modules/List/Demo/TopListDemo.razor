@namespace Masa.Tsc.Web.Admin.Rcl.Components

<TopList Value="Value" Data="GetData()" />

@code {
    [Parameter]
    public ITopListPanelValue Value { get; set; }

    List<(int, string)> Data { get; set; } = new();

    IEnumerable<(int, string)> GetData()
    {
        if (Data.Count < Value.MaxCount)
        {
            for (var i = 0; i < Value.MaxCount - Data.Count; i++)
            {
                Data.Add((Random.Shared.Next(1, 100), Guid.NewGuid().ToString()));
            }
        }
        if (Value.Desc == "desc")
        {
            return Data.OrderByDescending(i => i.Item1).ToList();
        }
        else if (Value.Desc == "asc")
        {
            return Data.OrderBy(i => i.Item1).ToList();
        }

        return Data.Take(Value.MaxCount).ToList();
    }
}
