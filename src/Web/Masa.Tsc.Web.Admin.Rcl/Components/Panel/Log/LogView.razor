@inherits TscComponentBase

@if(JsonObject is not null)
{
    foreach (var (name, logTree) in JsonObject)
    {
        if (logTree.IsValueType)
        {
             <div class="d-flex mb-4">
                <div class="px-2 ml-4 mr-6 my-auto fill-background" style="border-radius: 6px;height: 25px;text-align:center;">
                    <span class="emphasis2--text btn">@name</span>
                </div>
                <span class="body2 regular2--text my-auto">:@logTree.ToString()</span>
            </div>
        }
        else if (logTree.IsObject)
        {
            <div class="d-flex mb-4">
                <SButton Icon Class="ml-n5">
                    <SIcon Size="24" Color="regular2" OnClick="() => logTree.Expanded =!logTree.Expanded">
                        @(logTree.Expanded ? IconConstants.MenuDown : IconConstants.MenuRight)
                    </SIcon>
                </SButton>
                <div class="px-2 mr-6 my-auto fill-background" style="border-radius: 6px;height: 25px;text-align:center;">
                    <span class="emphasis2--text btn">@name</span>
                </div>
                <span class="body2 primary--text my-auto hover-pointer" @onclick="() => logTree.Expanded =!logTree.Expanded">@(logTree.Expanded ? "{" : "{ ... }")</span>
            </div>
            @if (logTree.Expanded)
            {
                <div class="pl-5 mb-4">
                    <LogView JsonObject=logTree.ToObject() />
                    <div class="body2 primary--text">}</div>
                </div>
            }
        }
        else if (logTree.IsArray)
        {
            <div class="d-flex mb-4">
                <SButton Icon Class="ml-n5">
                    <SIcon Size="24" Color="regular2" OnClick="() => logTree.Expanded =!logTree.Expanded">
                        @(logTree.Expanded ? IconConstants.MenuDown : IconConstants.MenuRight)
                    </SIcon>
                </SButton>
                <div class="px-2 mr-6 my-auto fill-background" style="border-radius: 6px;height: 25px;text-align:center;">
                    <span class="emphasis2--text btn">@name</span>
                </div>
                <span class="body2 primary--text my-auto hover-pointer" @onclick="() => logTree.Expanded =!logTree.Expanded">@(logTree.Expanded ? "[" : "[ ... ]")</span>
            </div>
            @if (logTree.Expanded)
            {
                <div class="pl-5 mb-4">
                    <LogView JsonArray=logTree.ToArray() />
                    <div class="body2 primary--text">]</div>
                </div>
            }
        }
    }
}
else if(JsonArray is not null)
{
    foreach (var logTree in JsonArray)
    {
        if (logTree.IsValueType)
        {
            <span class="body2 regular2--text">:@logTree.ToString()</span>
        }
        else if (logTree.IsObject)
        {
            <div class="d-flex mb-4">
                <SButton Icon Class="ml-n5" OnClick="() => logTree.Expanded =!logTree.Expanded">
                    <SIcon Size="24" Color="regular2">
                        @(logTree.Expanded ? IconConstants.MenuDown : IconConstants.MenuRight)
                    </SIcon>
                </SButton>
                <span class="body2 primary--text my-auto hover-pointer" @onclick="() => logTree.Expanded =!logTree.Expanded">@(logTree.Expanded ? "{" : "{ ... }")</span>
            </div>
            @if (logTree.Expanded)
            {
                <div class="pl-5 mb-4">
                    <LogView JsonObject=logTree.ToObject() />
                    <div class="body2 primary--text">}</div>
                </div>
            }
        }
        else if (logTree.IsArray)
        {
            <div class="d-flex mb-4">
                <SButton Icon Class="ml-n5" OnClick="() => logTree.Expanded =!logTree.Expanded">
                    <SIcon Size="24" Color="regular2">
                        @(logTree.Expanded ? IconConstants.MenuDown : IconConstants.MenuRight)
                    </SIcon>
                </SButton>
                <span class="body2 primary--text my-auto hover-pointer" @onclick="() => logTree.Expanded =!logTree.Expanded">@(logTree.Expanded ? "[" : "[ ... ]")</span>
            </div>
            @if (logTree.Expanded)
            {
                <div class="pl-5 mb-4">
                    <LogView JsonArray=logTree.ToArray() />
                    <div class="body2 primary--text">]</div>
                </div>
            }
        }
    }
}

@*<div class="d-flex mb-4">
    <SButton Icon Class="mr-4">
        <SIcon Size="24" Color="regular2">
            @IconConstants.MenuRight
        </SIcon>
    </SButton>
    <div class="px-2 mr-6 my-auto fill-background" style="border-radius: 6px;height: 25px;text-align:center;">
        <span class="emphasis2--text btn">ActionName</span>
    </div>
    <span class="body2 regular2--text my-auto">:hhh</span>
</div>
<div class="d-flex mb-4">
    <SButton Icon Class="mr-4">
        <SIcon Size="24" Color="regular2">
            @IconConstants.MenuDown
        </SIcon>
    </SButton>
    <div class="px-2 mr-6 my-auto fill-background" style="border-radius: 6px;height: 25px;text-align:center;">
        <span class="emphasis2--text btn">ActionName</span>
    </div>
    <span class="body2 regular2--text my-auto">:hhh</span>
</div>
@if(true)
{
    <div class="d-flex mb-4 ml-8">
        <SButton Icon Class="mr-4">
            <SIcon Size="24" Color="regular2" Class="mr-4">
                @IconConstants.MenuDown
            </SIcon>
        </SButton>
        <div class="px-2 mr-6 my-auto fill-background" style="border-radius: 6px;height: 25px;text-align:center;">
            <span class="emphasis2--text btn">ActionName</span>
        </div>
        <span class="body2 regular2--text my-auto">:hhh</span>
    </div>
}*@