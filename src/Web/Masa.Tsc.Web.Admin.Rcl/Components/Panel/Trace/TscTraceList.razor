@namespace Masa.Tsc.Web.Admin.Rcl.Components
@inherits TscComponentBase

<MDataTable Headers="_headers"
            OnOptionsUpdate=OnUpdateOptionsAsync
            ServerItemsLength=_total
            ItemsPerPage="10"
            Items=_data
            TItem="TraceResponseDto"
            Loading="_isLoading"
            @ref="_mDataTable">
    <ItemColContent>
        @if (context.Header.Value == "Operate")
        {
            <MIcon OnClick="@(() => OpenAsync(context.Item))">mdi-view-headline</MIcon>
        }
        else if (context.Header.Text == "Timestamp")
        {
            @(context.Item.Timestamp.Format(CurrentTimeZone))
        }
        else
        {
            @context.Value
        }
    </ItemColContent>
</MDataTable>

<TscTraceDetail @ref="_tscTraceDetail"></TscTraceDetail>
