@inherits TscComponentBase

<MTabs Color="primary" @bind-Value="CurrentTab">
    @foreach (var tabItem in Panel.ChildPanels)
    {
        <MTab @key="tabItem.Id" Value="tabItem.Id.ToString()">
@*            @if(IsEditTabItem)
            {
                <MTextField Dense HideDetails="@("auto")" Style="width:60px;" @bind-Value="@tabItem.Title" />
            }*@
            @if (IsEdit && Panel.CurrentTabItem == tabItem)
            {
                <MTextField Dense HideDetails="@("auto")" Style="width:60px;" @bind-Value="@tabItem.Title" />
            }
            else
            {
                @tabItem.Title
            }
            @if(IsEdit)
            {
                <SButton Icon>
                    <SIcon Size="24" OnClickStopPropagation OnClick="() => CloseTabItem(tabItem)">@IconConstants.Close</SIcon>
                </SButton>               
            }
        </MTab>
    }
</MTabs>
<MTabsItems Value="CurrentTab">
    @foreach (var tabItem in Panel.ChildPanels)
    {
        <MTabItem @key="tabItem.Id" Value="tabItem.Id.ToString()">
            <PanelGrids ParentPanel="tabItem" Panels="tabItem.ChildPanels" />
        </MTabItem>
    }
</MTabsItems>
