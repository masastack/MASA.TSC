@namespace Masa.Tsc.Web.Admin.Rcl.Components
@inherits TscWidgetBase

<MEditor Class="@Class"  Style="@Style" ValueChanged="OnValueChange" Value="@Value" Theme="@_theme" ReadOnly=ReadOnly></MEditor>

@code
{
    [Parameter]
    public string Value { get; set; }

    private string _theme => ReadOnly ? "bubble" : "snow";

    private void OnValueChange(string value)
    {
        Value = value;
    }

    public override AddPanelDto ToPanel()
    {
        return new AddPanelDto
            {
                Type = InstrumentTypes.Text,
                Attributes = new Dictionary<string, object> { { nameof(Value), Value } }
            };
    }

    protected override void SetParameters()
    {
        if (Values != null && Values.Any() && Values.ContainsKey(nameof(Value)))
        {
            Value = (string)Values[nameof(Value)];
        }
    }
}