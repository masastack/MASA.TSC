@namespace Masa.Tsc.Web.Admin.Rcl.Components
@inherits TscWidgetBase

<MRow>
    <MCol Md="12" Class="d-flex justify-end">
        <SButton Outlined Class="mx-4" Small BorderRadiusClass="rounded-lg">
            取消
        </SButton>
        <SButton Small BorderRadiusClass="rounded-lg">
            应用
        </SButton>
    </MCol>
    <MCol Cols="8">
        <DynamicComponent Type="@_showType" Parameters=_componentMetadata @ref="_dynamicComponent" />
    </MCol>
    <MCol Cols="4">
        <MCard>
            <MCardText>
                <MExpansionPanels @bind-Values="_panelValues" Multiple Style="z-index:auto !important;">
                    <MExpansionPanel Value="1">
                        <MExpansionPanelHeader Class="emphasis2--text h6">Visualization</MExpansionPanelHeader>
                        <MExpansionPanelContent>
                            <WidgetType Value="@_panelValue.ChartType" ValueChanged="OnTypeChange" />
                        </MExpansionPanelContent>
                    </MExpansionPanel>
                    @if (_panelValue.ChartType == "table")
                    {
                        <MExpansionPanel Value="2">
                            <MExpansionPanelHeader Class="emphasis2--text h6">Options</MExpansionPanelHeader>
                            <MExpansionPanelContent>
                                <MRow>
                                    <MCol Md="12">
                                        <SwitchItem Label="Show table header" @bind-Value="@_tableOption.ShowTableHeader" />
                                    </MCol>
                                    <MCol Md="12">
                                        <SwitchItem Label="Show table footer" @bind-Value="@_tableOption.ShowTableFooter" />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@_tableOption.ColumnAlignment" Label="Column alignment" Items='new List<string>{"auto","left","center","right"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <SwitchItem Label="Enable pagination" @bind-Value="@_tableOption.EnablePaginaton" />
                                    </MCol>
                                </MRow>
                            </MExpansionPanelContent>
                        </MExpansionPanel>
                    }
                    else if (_panelValue.ChartType == "top-list")
                    {
                        <MExpansionPanel Value="2">
                            <MExpansionPanelHeader Class="emphasis2--text h6">Options</MExpansionPanelHeader>
                            <MExpansionPanelContent>
                                <MRow>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@_topListOption.Desc" Label="Desc" Items='new List<string>{"auto","asc","desc"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <ColorGroupItem @bind-Value="@_topListOption.Color" Label="Color" Items='new List<string>{"#4318FF","#05CD99","#FFB547","#37A7FF","#FF5252"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <STextField @bind-Value="@_topListOption.MaxCount" Type="number" Label="Max Count" />
                                    </MCol>
                                </MRow>
                            </MExpansionPanelContent>
                        </MExpansionPanel>
                    }
                    else
                    {
                        <MExpansionPanel Value="2">
                            <MExpansionPanelHeader Class="emphasis2--text h6">Tooltip</MExpansionPanelHeader>
                            <MExpansionPanelContent>
                                <MRow>
                                    <MCol Md="12">
                                        <SwitchItem Label="Tooltip mode" @bind-Value="@EChartOption.Tooltip.Show" />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@EChartOption.Tooltip.Trigger" Label="Trigger" Items='new List<string>{"item","axis","none"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@EChartOption.Tooltip.RenderModel" Label="Render mode" Items='new List<string>{"html","richText"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <STextField @bind-Value="@EChartOption.Tooltip.ClassName" Label="Class Name" TValue="string" />
                                    </MCol>
                                </MRow>
                            </MExpansionPanelContent>
                        </MExpansionPanel>
                        <MExpansionPanel Value="3">
                            <MExpansionPanelHeader Class="emphasis2--text h6">Legend</MExpansionPanelHeader>
                            <MExpansionPanelContent>
                                <MRow>
                                    <MCol Md="12">
                                        <SwitchItem Label="Legend mode" @bind-Value="@EChartOption.Legend.Show" />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@EChartOption.Legend.Type" Label="Type" Items='new List<string>{"plain","scroll"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@EChartOption.Legend.Orient" Label="Orient" Items='new List<string>{"horizontal","vertical"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@EChartOption.Legend.XPositon" Label="X Position" Items='new List<string>{"left","center","right"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@EChartOption.Legend.YPositon" Label="Y Position" Items='new List<string>{"top","center","bottom"}' />
                                    </MCol>
                                </MRow>
                            </MExpansionPanelContent>
                        </MExpansionPanel>
                        <MExpansionPanel Value="4">
                            <MExpansionPanelHeader Class="emphasis2--text h6">Axis</MExpansionPanelHeader>
                            <MExpansionPanelContent>
                                <SwitchItem Label="X轴" @bind-Value="@EChartOption.XAxis.Show" />
                                <SwitchItem Label="X轴轴线" @bind-Value="@EChartOption.XAxis.ShowLine" />
                                <SwitchItem Label="X轴刻度标签" @bind-Value="@EChartOption.XAxis.ShowLabel" />
                                <SwitchItem Label="X轴刻度" @bind-Value="@EChartOption.XAxis.ShowTick" />
                                <SwitchItem Label="Y轴" @bind-Value="@EChartOption.YAxis.Show" />
                                <SwitchItem Label="Y轴轴线" @bind-Value="@EChartOption.YAxis.ShowLine" />
                                <SwitchItem Label="Y轴刻度标签" @bind-Value="@EChartOption.YAxis.ShowLabel" />
                                <SwitchItem Label="Y轴刻度" @bind-Value="@EChartOption.YAxis.ShowTick" />
                            </MExpansionPanelContent>
                        </MExpansionPanel>
                        <MExpansionPanel Value="5">
                            <MExpansionPanelHeader Class="emphasis2--text h6">Toolbox</MExpansionPanelHeader>
                            <MExpansionPanelContent>
                                <MRow>
                                    <MCol Md="12">
                                        <SwitchItem Label="Toolbox mode" @bind-Value="@EChartOption.Toolbox.Show" />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem Values="@EChartOption.Toolbox.Feature" ValuesChanged="FeatureChanged" Label="Feature" Multiple Items='new List<string>{"saveAsImage","dataView","restore","dataZoom"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@EChartOption.Toolbox.Orient" Label="Orient" Items='new List<string>{"horizontal","vertical"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@EChartOption.Toolbox.XPositon" Label="X Position" Items='new List<string>{"left","center","right"}' />
                                    </MCol>
                                    <MCol Md="12">
                                        <ButtonGroupItem @bind-Value="@EChartOption.Toolbox.YPositon" Label="Y Position" Items='new List<string>{"top","center","bottom"}' />
                                    </MCol>
                                </MRow>
                            </MExpansionPanelContent>
                        </MExpansionPanel>
                    }
                    @*<DynamicComponent Type="@_panelType" />*@
                </MExpansionPanels>
            </MCardText>
        </MCard>
    </MCol>
</MRow>