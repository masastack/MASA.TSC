@namespace Masa.Tsc.Web.Admin.Rcl.Components
@inherits TscComponentBase

<MCard Class="pa-2" Style="background-color:#F6F8FD">
    <MCardText>
        <MRow>
            <MCol Md="12">
                <STextField BackgroundColor="white" @bind-Value="Value.Name" Label="指标名称" />
            </MCol>
            <MCol Md="12">
                <STextField BackgroundColor="white" @bind-Value="Value.Range" Label="取值范围" />
            </MCol>
            <MCol Md="12">
                <STextField BackgroundColor="white" @bind-Value="Value.Icon" Label="图标" />
            </MCol>
            <MCol Md="12">
                <STextField BackgroundColor="white" @bind-Value="Value.Unit" Label="单位" />
            </MCol>
        </MRow>
    </MCardText>
    <MCardActions Class="d-flex justify-space-between">
        <SColorGroup @bind-Value="Value.Color" Colors='new List<string>{"#4318FF","#05CD99","#FFB547","#37A7FF","#FF5252"}' />
        <MIcon OnClick="OnDeleteAsync" Color="red">mdi-delete</MIcon>
    </MCardActions>
</MCard>

@code {
    [Parameter]
    public PanelMetricDto Value { get; set; }

    [Parameter]
    public EventCallback<PanelMetricDto> ValueChanged { get; set; }

    private async Task OnDeleteAsync()
    {
        await OnCallParent(OperateCommand.Remove, Value);
    }
}