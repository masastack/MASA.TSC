<div class="full-height" style="padding:10px;">
    @if (ConfigurationRecord.IsEdit)
    {
        <MEditor @ref="_editor" Class="full-height" Value="@Content" ValueChanged="ContentChanged" Placeholder="请输入内容" ContentStyle="height:calc(100% - 95px);" />
    }
    else
    {
        @(new MarkupString(Content))
    }
</div>

@code {
    private MEditor _editor;

    [CascadingParameter]
    public ConfigurationRecord ConfigurationRecord { get; set; }

    [Parameter]
    public UpsertPanelDto Value { get; set; }

    string Content => Value[ExtensionFieldTypes.Content]?.ToString()??"";

    void ContentChanged(string content)
    {
        Value[ExtensionFieldTypes.Content] = content;
    }
}
