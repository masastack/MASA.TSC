@namespace Masa.Tsc.Admin.Rcl.Pages.Components
@using System.Text
@inherits TscComponentBase

@if (Value != null)
{
    <MCard Class="@($"{_class} {Class}")">
        @foreach (var item in Value)
        {
            if (@item is IEnumerable<KeyValuePair<string, object>> obj)
            {
                //_isObjectOrArray = true;
                <TscKeyValue Value=obj WordBreak="WordBreak" />
            }
            else if (@item is IEnumerable<object> objs)
            {
                //_isObjectOrArray = true;
                <TscValueArray Value=objs WordBreak="WordBreak" />
            }
            else
            {
                _text.Append($" , {item}");
            }
        }

        @{
            if (_text.Length > 0)
            {
                _text.Remove(0, 3);
                <MLabel Class="@($"text{(WordBreak?"-":"-no-")}wrap text-body-1")">@_text.ToString()</MLabel>
            }
        }
    </MCard>
}
@code
{
    private string _class = "";
    //private bool _isObjectOrArray = false;
    private StringBuilder _text = new StringBuilder(4096);

    [Parameter]
    public IEnumerable<object> Value { get; set; } = default!;

    [Parameter]
    public string Class { get; set; } = default!;

    [Parameter]
    public bool WordBreak { get; set; }
}